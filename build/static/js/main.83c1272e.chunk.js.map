{"version":3,"sources":["contexts/CurrentUserContext.js","utils/MainApi.js","utils/MoviesApi.js","images/logo.svg","components/Logo/Logo.js","images/icon__COLOR_icon-main.svg","components/BurgerMenu/BurgerMenu.js","components/Navigation/Navigation.js","components/Header/Header.js","components/Footer/Footer.js","components/Promo/Promo.js","components/NavTab/NavTab.js","components/AboutProject/AboutProject.js","components/Techs/Techs.js","images/me.png","components/Portfolio/Portfolio.js","components/AboutMe/AboutMe.js","components/Main/Main.js","components/FilterCheckBox/FilterCheckBox.js","components/SearchForm/SearchForm.js","images/icon__COLOR_invisible.svg","images/icon__COLOR_icon-delete.svg","utils/formatDuration.js","components/Movie/Movie.js","components/MoviesList/MoviesList.js","components/Preloader/Preloader.js","utils/getNumberOfMovies.js","components/MoviesNotFound/MoviesNotFound.js","components/Movies/Movies.js","utils/validateInput.js","utils/handleMainApiError.js","components/Profile/Profile.js","components/HaveAccount/HaveAccount.js","components/User/User.js","components/Form/Form.js","components/FormInput/FormInput.js","components/FormLabel/FormLabel.js","components/FormSubmitBtn/FormSubmitBtn.js","components/FormErrorMessage/FormErrorMessage.js","components/SignUp/SignUp.js","components/SignIn/SignIn.js","components/MobileLink/MobileLink.js","components/MobileMenu/MobileMenu.js","components/PageNotFound/PageNotFound.js","components/ProtectedRoute/ProtectedRoute.js","utils/findMovies.js","components/App/App.js","reportWebVitals.js","index.js"],"names":["CurrentUserContext","React","createContext","mainApi","baseUrl","headers","this","_headers","_baseUrl","token","_token","_fetcher","userData","movie","newUserData","movieId","path","method","body","Authorization","options","JSON","stringify","fetch","then","res","ok","json","Promise","reject","moviesApi","Error","status","Logo","place","to","className","src","logoImg","BurgerMenu","setsMobileMenuOpened","onClick","BurgerMenuImg","AccountLink","openAccount","mobileLinkSelector","useLocation","pathname","Header","isLoggedIn","history","useHistory","push","Footer","href","Promo","NavTab","AboutProject","id","Techs","Portfolio","target","AboutMe","alt","me","Main","FilterCheckBox","isShortFilm","handleCheckBox","labelActiveSelector","htmlFor","type","checked","onChange","SearchForm","handleSearchBtn","setSearchText","searchText","onSubmit","event","preventDefault","placeholder","value","required","disabled","length","formatDuration","duration","result","hours","minutes","Math","floor","Movie","likeActiveSelector","isSaved","movieData","handleMovieBtnClick","isSavedMovie","movieSelector","movieCoverSrc","image","url","trailerLink","rel","title","nameRU","deleteImg","likeImg","MoviesList","moviesList","limit","resultMovies","slice","map","film","Preloader","getNumberOfMovies","width","numberOfMovies","MoviesNotFound","Movies","movies","isLoading","cleanFilter","isSorted","setIsSorted","useState","setIsShortFilm","setLimit","step","setStep","filterShortMovies","moviesArr","filter","useEffect","validateInput","name","isValid","err","test","handleMainApiError","Profile","props","setCurrentUser","signOut","setName","isNameValid","setIsNameValid","email","setEmail","isEmailValid","setIsEmailValid","isEditing","setisEditing","isError","setIsError","errorText","setErrorText","somethingChanged","setSomethingChanged","isSuccess","setIsSuccess","currentUser","useContext","submitBtnSelector","nameInputInvalidSelector","emailInputInvalidSelector","handleError","validateResult","updateUserData","data","setTimeout","catch","HaveAccount","text","linkText","User","children","location","Form","handleFormSubmit","noValidate","FormInput","handleNameInput","inputName","inputErrorSelector","FormLabel","label","FormSubmitBtn","isDisabledBtn","btnDisabledSelector","FormErrorMessage","errorMsg","formErrorActiveSelector","SignUp","handleSignUp","setErrorMsg","nameIsValid","setNameIsValid","emailIsValid","setEmailIsValid","password","setPassword","passwordIsValid","setPasswordIsValid","setIsDisabledBtn","SignIn","handleSignIn","MobileLink","stopPropagation","MobileMenu","isMobileMenuOpened","mobileMenuActiveSelector","closeMobileMenu","PageNotFound","ProtectedRoute","Component","component","findMovies","searchReq","wordsArr","replace","split","i","RegExp","App","setIsLoggedIn","setIsLoading","setMovies","savedMovies","setSavedMovies","savedFilteredMovies","setSavedFilteredMovies","window","innerWidth","setWidth","isResizing","setIsResizing","enteredPath","setEnteredPath","isMoviesSorted","setIsMoviesSorted","isSavedMoviesSorted","setIsSavedMoviesSorted","userError","setUserError","isUserError","setIsUserError","getUserData","user","getSavedMovies","console","log","localStorage","removeItem","find","el","Number","deleteMovieFromSaved","deleteMovie","deletedMovie","newSavedMoviesArr","mov","signInUser","setItem","setToken","error","filterMovies","films","searhText","moviesRegExp","getMovies","localMovies","parse","getItem","jwt","includes","searchedMovies","useLayoutEffect","updateWidth","addEventListener","removeEventListener","Provider","exact","clickedMovie","_id","uploadNewMovie","savedMovie","saveMovie","clearToken","createUser","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.83c1272e.chunk.js","sourcesContent":["import React from 'react';\n\nconst CurrentUserContext = React.createContext();\n\nexport default CurrentUserContext;\n","class MainApi {\n  constructor({ baseUrl, headers }) {\n    this._headers = headers;\n    this._baseUrl = baseUrl;\n  }\n\n  setToken(token) {\n    this._token = token;\n  }\n\n  clearToken() {\n    this._token = null;\n  }\n\n  getUserData() {\n    return this._fetcher('/users/me', 'GET');\n  }\n\n  createUser(userData) {\n    return this._fetcher('/signup', 'POST', userData);\n  }\n\n  signInUser(userData) {\n    return this._fetcher('/signin', 'POST', userData);\n  }\n\n  getSavedMovies() {\n    return this._fetcher('/movies', 'GET');\n  }\n\n  uploadNewMovie(movie) {\n    return this._fetcher('/movies', 'POST', movie);\n  }\n\n  updateUserData(newUserData) {\n    return this._fetcher('/users/me', 'PATCH', newUserData);\n  }\n\n  deleteMovie(movieId) {\n    return this._fetcher(`/movies/${movieId}`, 'DELETE');\n  }\n\n  _fetcher(path, method, body) {\n    const headers = this._headers;\n    if (this._token) {\n      headers.Authorization = `Bearer ${this._token}`;\n    }\n    const options = {\n      method,\n      headers,\n    };\n    if (body) {\n      options.body = JSON.stringify(body);\n    }\n    return fetch(`${this._baseUrl}${path}`, options).then(res => {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(res);\n    });\n  }\n}\n\nconst mainApi = new MainApi({\n  baseUrl: 'https://api.kiriii2511.students.nomoredomains.work',\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\nexport default mainApi;\n","class MoviesApi {\n  constructor({ baseUrl, headers }) {\n    this._headers = headers;\n    this._baseUrl = baseUrl;\n  }\n\n  getMovies() {\n    return this._fetcher();\n  }\n\n  _fetcher() {\n    const headers = this._headers;\n    const options = {\n      method: 'GET',\n      headers,\n    };\n    return fetch(this._baseUrl, options).then(res => {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(new Error(`Ошибка: ${res.status}`));\n    });\n  }\n}\n\nconst moviesApi = new MoviesApi({\n  baseUrl: 'https://api.nomoreparties.co/beatfilm-movies',\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\nexport default moviesApi;\n","export default __webpack_public_path__ + \"static/media/logo.be2d72c0.svg\";","import React from 'react';\nimport './Logo.css';\nimport SVG from 'react-inlinesvg';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport logoImg from '../../images/logo.svg';\n\nconst Logo = ({ place }) => (\n  <Link to=\"/\" className={`logo logo_place_${place}`}>\n    <SVG className=\"logo__image\" src={logoImg} />\n  </Link>\n);\n\nLogo.propTypes = {\n  place: PropTypes.string,\n};\n\nexport default Logo;\n","export default __webpack_public_path__ + \"static/media/icon__COLOR_icon-main.bc3f6448.svg\";","import './BurgerMenu.css';\nimport React from 'react';\nimport SVG from 'react-inlinesvg';\nimport PropTypes from 'prop-types';\nimport BurgerMenuImg from '../../images/icon__COLOR_icon-main.svg';\n\nfunction BurgerMenu({ setsMobileMenuOpened }) {\n  function openBurgerMenu() {\n    setsMobileMenuOpened(true);\n  }\n  return (\n    <button className=\"burger-menu\" onClick={openBurgerMenu}>\n      <SVG className=\"burger-menu__icon\" src={BurgerMenuImg} />\n    </button>\n  );\n}\n\nBurgerMenu.propTypes = {\n  setsMobileMenuOpened: PropTypes.func,\n};\n\nexport default BurgerMenu;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useLocation } from 'react-router-dom';\nimport './Navigation.css';\n\nfunction AccountLink({ openAccount, place }) {\n  const location = useLocation();\n  const mobileLinkSelector =\n    location.pathname === '/profile' ? 'account-link_active' : '';\n  return (\n    <button\n      className={`account-link account-link_place_${place} ${mobileLinkSelector}`}\n      onClick={openAccount}\n    >\n      Аккаунт\n    </button>\n  );\n}\n\nAccountLink.propTypes = {\n  openAccount: PropTypes.func,\n  place: PropTypes.string,\n};\n\nexport default AccountLink;\n","import React from 'react';\nimport './Header.css';\nimport { Link, useHistory } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport Logo from '../Logo/Logo';\nimport BurgerMenu from '../BurgerMenu/BurgerMenu';\nimport AccountLink from '../Navigation/Navigation';\n\nfunction Header({ setsMobileMenuOpened, isLoggedIn }) {\n  const history = useHistory();\n  function openAccount() {\n    history.push('/profile');\n  }\n  return (\n    <header className=\"header\">\n      <nav className=\"header__nav\">\n        <Logo place={'header'} />\n      </nav>\n      <nav className=\"header__nav\">\n        {isLoggedIn && (\n          <Link className=\"header__link header__link_type_movies\" to=\"/movies\">\n            Фильмы\n          </Link>\n        )}\n        {isLoggedIn && (\n          <Link\n            className=\"header__link header__link_type_movies\"\n            to=\"/saved-movies\"\n          >\n            Сохраненные фильмы\n          </Link>\n        )}\n        {!isLoggedIn && (\n          <Link className=\"header__link header__link_type_signup\" to=\"/signup\">\n            Регистрация\n          </Link>\n        )}\n        {!isLoggedIn && (\n          <Link className=\"header__link header__link_type_signin\" to=\"/signin\">\n            Войти\n          </Link>\n        )}\n        {isLoggedIn && (\n          <AccountLink openAccount={openAccount} place={'header'} />\n        )}\n        {isLoggedIn && (\n          <BurgerMenu setsMobileMenuOpened={setsMobileMenuOpened} />\n        )}\n      </nav>\n    </header>\n  );\n}\n\nHeader.propTypes = {\n  setsMobileMenuOpened: PropTypes.func,\n  isLoggedIn: PropTypes.bool,\n};\n\nexport default Header;\n","import React from 'react';\nimport './Footer.css';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <h2 className=\"footer__heading\">\n        Учебный проект Яндекс.Практикум х BeatFilm.\n      </h2>\n      <div className=\"footer__media-info\">\n        <p className=\"footer__copyright\">&copy;2020</p>\n        <ul className=\"footer__links\">\n          <li className=\"footer__link-item\">\n            <a className=\"footer__link\" href=\"http://ya.ru\">\n              Яндекс.Практикум\n            </a>\n          </li>\n          <li className=\"footer__link-item\">\n            <a className=\"footer__link\" href=\"http://ya.ru\">\n              Github\n            </a>\n          </li>\n          <li className=\"footer__link-item\">\n            <a className=\"footer__link\" href=\"http://ya.ru\">\n              Facebook\n            </a>\n          </li>\n        </ul>\n      </div>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from 'react';\nimport './Promo.css';\n\nconst Promo = () => (\n  <section className=\"promo\">\n    <div className=\"promo__content\">\n      <h1 className=\"promo__title\">\n        Учебный проект студента факультета Веб-разработки.\n      </h1>\n    </div>\n  </section>\n);\n\nexport default Promo;\n","import React from 'react';\nimport './NavTab.css';\n\nfunction NavTab() {\n  return (\n    <nav className=\"navtab\">\n      <ul className=\"navtab__list\">\n        <li className=\"navtab__list-item\">\n          <a className=\"navtab__list-link\" href=\"#about\">\n            О проекте\n          </a>\n        </li>\n        <li className=\"navtab__list-item\">\n          <a className=\"navtab__list-link\" href=\"#techs\">\n            Технологии\n          </a>\n        </li>\n        <li className=\"navtab__list-item\">\n          <a className=\"navtab__list-link\" href=\"#me\">\n            Обо мне\n          </a>\n        </li>\n      </ul>\n    </nav>\n  );\n}\n\nexport default NavTab;\n","import './AboutProject.css';\n\nfunction AboutProject() {\n  return (\n    <section id=\"about\" className=\"about\">\n      <h2 className=\"about__title\">О проекте</h2>\n      <ul className=\"about-info about__about-info\">\n        <li className=\"about-info__item\">\n          <h3 className=\"about-info__heading\">\n            Дипломный проект включал 5 этапов\n          </h3>\n          <p className=\"about-info__paragraph\">\n            Составление плана, работу над бэкендом, вёрстку, добавление\n            функциональности и финальные доработки.\n          </p>\n        </li>\n        <li className=\"about-info__item\">\n          <h3 className=\"about-info__heading\">\n            На выполнение диплома ушло 5 недель\n          </h3>\n          <p className=\"about-info__paragraph\">\n            У каждого этапа был мягкий и жёсткий дедлайн, которые нужно было\n            соблюдать, чтобы успешно защититься.\n          </p>\n        </li>\n      </ul>\n      <div className=\"about-timing about__about-timing\">\n        <p className=\"about-timing__time about-timing__time_back\">1 неделя</p>\n        <p className=\"about-timing__time about-timing__time_front\">4 недели</p>\n        <p className=\"about-timing__action\">Back-end</p>\n        <p className=\"about-timing__action\">Front-end</p>\n      </div>\n    </section>\n  );\n}\n\nexport default AboutProject;\n","import './Techs.css';\n\nfunction Techs() {\n  return (\n    <section id=\"techs\" className=\"techs\">\n      <div className=\"techs__content\">\n        <h2 className=\"techs__title\">Технологии</h2>\n        <h3 className=\"techs__number\">7 технологий</h3>\n        <p className=\"techs__description\">\n          На курсе веб-разработки мы освоили технологии, которые применили в\n          &#10; дипломном проекте.\n        </p>\n        <ul className=\"techs__list\">\n          <li className=\"techs__list-item\">HTML</li>\n          <li className=\"techs__list-item\">CSS</li>\n          <li className=\"techs__list-item\">JS</li>\n          <li className=\"techs__list-item\">React</li>\n          <li className=\"techs__list-item\">Git</li>\n          <li className=\"techs__list-item\">Express.js</li>\n          <li className=\"techs__list-item\">mongoDB</li>\n        </ul>\n      </div>\n    </section>\n  );\n}\n\nexport default Techs;\n","export default __webpack_public_path__ + \"static/media/me.b84eb0e1.png\";","import React from 'react';\nimport './Portfolio.css';\n\nconst Portfolio = () => (\n  <div className=\"portfolio\">\n    <h5 className=\"portfolio__title\">Портфолио</h5>\n    <ul className=\"portfolio__list\">\n      <li className=\"portfolio__list-item\">\n        <a className=\"portfolio__link\" target=\"_blanc\" href=\"\">\n          Статичный сайт\n        </a>\n      </li>\n      <li className=\"portfolio__list-item\">\n        <a className=\"portfolio__link\" target=\"_blanc\" href=\"\">\n          Адаптивный сайт\n        </a>\n      </li>\n      <li className=\"portfolio__list-item\">\n        <a className=\"portfolio__link\" target=\"_blanc\" href=\"\">\n          Одностраничное приложение\n        </a>\n      </li>\n    </ul>\n  </div>\n);\n\nexport default Portfolio;\n","import './AboutMe.css';\nimport me from '../../images/me.png';\nimport Portfolio from '../Portfolio/Portfolio';\n\nfunction AboutMe() {\n  return (\n    <section id=\"me\" className=\"aboutme\">\n      <h2 className=\"aboutme__title\">Студент</h2>\n      <div className=\"aboutme-info\">\n        <img className=\"aboutme-info__foto\" alt=\"Фото студента\" src={me} />\n        <div className=\"aboutme-info__bio\">\n          <div>\n            <h3 className=\"aboutme-info__name\">Виталий</h3>\n            <p className=\"aboutme-info__short\">Фронтенд-разработчик, 30 лет</p>\n            <p className=\"aboutme-info__description\">\n              Я родился и живу в Саратове, закончил факультет экономики СГУ. У\n              меня есть жена и дочь. Я люблю слушать музыку, а ещё увлекаюсь\n              бегом. Недавно начал кодить. С 2015 года работал в компании «СКБ\n              Контур». После того, как прошёл курс по веб-разработке, начал\n              заниматься фриланс-заказами и ушёл с постоянной работы.\n            </p>\n          </div>\n          <ul className=\"aboutme-info__links\">\n            <li className=\"aboutme-info__link-item\">\n              <a\n                className=\"aboutme-info__link\"\n                href=\"https://www.facebook.com/\"\n              >\n                Facebook\n              </a>\n            </li>\n            <li className=\"aboutme-info__link-item\">\n              <a className=\"aboutme-info__link\" href=\"https://github.com/\">\n                Github\n              </a>\n            </li>\n          </ul>\n        </div>\n      </div>\n      <Portfolio />\n    </section>\n  );\n}\n\nexport default AboutMe;\n","import React from 'react';\nimport './Main.css';\nimport Promo from '../Promo/Promo';\nimport NavTab from '../NavTab/NavTab';\nimport AboutProject from '../AboutProject/AboutProject';\nimport Techs from '../Techs/Techs';\nimport AboutMe from '../AboutMe/AboutMe';\n\nfunction Main() {\n  return (\n    <main className=\"main\">\n      <Promo />\n      <NavTab />\n      <AboutProject />\n      <Techs />\n      <AboutMe />\n    </main>\n  );\n}\n\nexport default Main;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './FilterCheckBox.css';\n\nfunction FilterCheckBox({ isShortFilm, handleCheckBox }) {\n  const labelActiveSelector = isShortFilm\n    ? ''\n    : 'filter-checkbox__label_active';\n  return (\n    <div className=\"filter-checkbox\">\n      <label\n        className={`filter-checkbox__label ${labelActiveSelector}`}\n        htmlFor=\"filtercheckbox\"\n      >\n        <input\n          className=\"filter-checkbox__input\"\n          type=\"checkbox\"\n          checked={isShortFilm}\n          onChange={handleCheckBox}\n          id=\"filtercheckbox\"\n        />\n      </label>\n      <span className=\"filter-checkbox__text\">Короткометражки</span>\n    </div>\n  );\n}\n\nFilterCheckBox.propTypes = {\n  isShortFilm: PropTypes.bool,\n  handleCheckBox: PropTypes.func,\n};\n\nexport default FilterCheckBox;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './SearchForm.css';\nimport FilterCheckBox from '../FilterCheckBox/FilterCheckBox';\n\nfunction SearchForm({\n  isShortFilm,\n  handleCheckBox,\n  handleSearchBtn,\n  setSearchText,\n  searchText,\n}) {\n  function handleSearchInput(event) {\n    setSearchText(event.target.value);\n  }\n  function sortMovies(event) {\n    event.preventDefault();\n    handleSearchBtn(searchText);\n    setSearchText('');\n  }\n\n  return (\n    <>\n      <form className=\"search-form\" onSubmit={sortMovies}>\n        <input\n          className=\"search-form__input\"\n          type=\"text\"\n          placeholder=\"Фильм\"\n          onChange={handleSearchInput}\n          value={searchText}\n          required\n        />\n        <button\n          className=\"search-form__btn\"\n          type=\"submit\"\n          disabled={searchText.length < 1}\n        >\n          Найти\n        </button>\n      </form>\n      <FilterCheckBox\n        isShortFilm={isShortFilm}\n        handleCheckBox={handleCheckBox}\n      />\n    </>\n  );\n}\n\nSearchForm.propTypes = {\n  isShortFilm: PropTypes.bool,\n  handleCheckBox: PropTypes.func,\n  onSubmit: PropTypes.func,\n  handleSearchBtn: PropTypes.func,\n  setSearchText: PropTypes.func,\n  searchText: PropTypes.string,\n};\n\nexport default SearchForm;\n","export default __webpack_public_path__ + \"static/media/icon__COLOR_invisible.2300e3bb.svg\";","export default __webpack_public_path__ + \"static/media/icon__COLOR_icon-delete.c46b63f9.svg\";","function formatDuration(duration) {\n  let result = '';\n  const hours = duration / 60;\n  const minutes = duration % 60;\n  if (hours >= 1) {\n    result += `${Math.floor(hours)}ч `;\n  }\n  if (minutes > 0) {\n    result += `${minutes}м`;\n  }\n  return result;\n}\n\nexport default formatDuration;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './Movie.css';\nimport SVG from 'react-inlinesvg';\nimport likeImg from '../../images/icon__COLOR_invisible.svg';\nimport deleteImg from '../../images/icon__COLOR_icon-delete.svg';\nimport formatDuration from '../../utils/formatDuration';\n\nfunction Movie({ isSaved, movieData, handleMovieBtnClick, isSavedMovie }) {\n  const yaApiUrl = 'https://api.nomoreparties.co';\n  let likeActiveSelector;\n  if (!isSaved) {\n    likeActiveSelector = isSavedMovie(movieData) ? 'movie__like_active' : '';\n  }\n  const movieSelector = isSaved ? 'movie_type_saved' : '';\n  const movieCoverSrc = movieData.image\n    ? `${yaApiUrl}${movieData.image.url}`\n    : '';\n  function handleMovieClick() {\n    handleMovieBtnClick(movieData);\n  }\n  return (\n    <article className={`movie ${movieSelector}`}>\n      <a\n        className=\"student__link\"\n        href={movieData.trailerLink}\n        target=\"_blank\"\n        rel=\"noreferrer\"\n        title={`Открыть трейлер фильма \"${movieData.nameRU}\" на youtube.com`}\n      >\n        <img\n          className=\"movie__cover\"\n          src={movieCoverSrc}\n          alt={movieData.nameRU}\n        />\n      </a>\n      <div className=\"movie__info\">\n        <h5 className=\"movie__title\">{movieData.nameRU}</h5>\n        <button className={'movie__btn'} onClick={handleMovieClick}>\n          {isSaved ? (\n            <SVG className=\"movie__delete\" src={deleteImg} />\n          ) : (\n            <SVG\n              className={`movie__like ${likeActiveSelector}`}\n              src={likeImg}\n            />\n          )}\n        </button>\n        <p className=\"movie__duration\">{formatDuration(movieData.duration)}</p>\n      </div>\n    </article>\n  );\n}\n\nMovie.propTypes = {\n  movieData: PropTypes.object,\n  isSaved: PropTypes.bool,\n  handleMovieBtnClick: PropTypes.func,\n  isSavedMovie: PropTypes.func,\n};\n\nexport default Movie;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './MoviesList.css';\nimport Movie from '../Movie/Movie';\n\nfunction MoviesList({\n  moviesList,\n  isSaved,\n  handleMovieBtnClick,\n  limit,\n  isSavedMovie,\n}) {\n  const resultMovies = moviesList.slice(0, limit);\n  return (\n    <section className=\"movies-list\">\n      {resultMovies.map(film => (\n        <Movie\n          movieData={film}\n          key={film.id}\n          isSaved={isSaved}\n          handleMovieBtnClick={handleMovieBtnClick}\n          isSavedMovie={isSavedMovie}\n        />\n      ))}\n    </section>\n  );\n}\n\nMoviesList.propTypes = {\n  moviesList: PropTypes.array,\n  isSaved: PropTypes.bool,\n  handleMovieBtnClick: PropTypes.func,\n  limit: PropTypes.number,\n  isSavedMovie: PropTypes.func,\n};\n\nexport default MoviesList;\n","import React from 'react';\nimport './Preloader.css';\n\nconst Preloader = () => (\n  <div className=\"preloader\">\n    <div className=\"preloader__container\">\n      <span className=\"preloader__round\"></span>\n    </div>\n  </div>\n);\n\nexport default Preloader;\n","function getNumberOfMovies(width) {\n  let numberOfMovies = 0;\n  if (width > 1100) {\n    numberOfMovies = 4;\n  } else if (width > 850 && width <= 1100) {\n    numberOfMovies = 3;\n  } else if (width >= 500 && width <= 850) {\n    numberOfMovies = 2;\n  } else if (width < 500) {\n    numberOfMovies = 1;\n  }\n  return numberOfMovies;\n}\n\nexport default getNumberOfMovies;\n","import React from 'react';\nimport './MoviesNotFound.css';\n\nconst MoviesNotFound = () => (\n  <p className=\"movies-not-found\">Ничего не найдено.</p>\n);\n\nexport default MoviesNotFound;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './Movies.css';\nimport SearchForm from '../SearchForm/SearchForm';\nimport MoviesList from '../MoviesList/MoviesList';\nimport Preloader from '../Preloader/Preloader';\nimport getNumberOfMovies from '../../utils/getNumberOfMovies';\nimport MoviesNotFound from '../MoviesNotFound/MoviesNotFound';\n\nfunction Movies({\n  isSaved,\n  handleMovieBtnClick,\n  movies,\n  isLoading,\n  width,\n  handleSearchBtn,\n  cleanFilter,\n  isSavedMovie,\n  isSorted,\n  setIsSorted,\n}) {\n  const [searchText, setSearchText] = React.useState('');\n  const [isShortFilm, setIsShortFilm] = React.useState(false);\n  const [limit, setLimit] = React.useState(getNumberOfMovies(width));\n  const [step, setStep] = React.useState(0);\n\n  React.useEffect(\n    () => () => {\n      cleanFilter();\n    },\n    [],\n  );\n\n  function handleCheckBox() {\n    setIsSorted(true);\n    setIsShortFilm(!isShortFilm);\n  }\n\n  function handleShowMoreBtn() {\n    setLimit(limit + step);\n  }\n\n  function filterShortMovies(moviesArr) {\n    return moviesArr.filter(movie =>\n      isShortFilm ? movie.duration <= 40 : true,\n    );\n  }\n\n  function handleFilterMovies() {\n    setIsSorted(true);\n    handleSearchBtn(searchText);\n  }\n\n  React.useEffect(() => {\n    setStep(getNumberOfMovies(width));\n  }, [width]);\n\n  React.useEffect(() => {\n    setLimit(getNumberOfMovies(width));\n  }, [movies]);\n\n  return (\n    <main className=\"movies\">\n      <SearchForm\n        isShortFilm={isShortFilm}\n        handleCheckBox={handleCheckBox}\n        handleSearchBtn={handleFilterMovies}\n        setSearchText={setSearchText}\n        searchText={searchText}\n      />\n      {isLoading && <Preloader />}\n      {movies.length === 0 && isSaved && !isSorted && (\n        <p className=\"movies__nothing-saved\">\n          Пока не сохранено ни одного фильма\n        </p>\n      )}\n      {filterShortMovies(movies).length === 0 && isSorted && !isLoading && (\n        <MoviesNotFound />\n      )}\n      {\n        <MoviesList\n          limit={limit}\n          moviesList={filterShortMovies(movies)}\n          isSaved={isSaved}\n          handleMovieBtnClick={handleMovieBtnClick}\n          isSavedMovie={isSavedMovie}\n        />\n      }\n      {filterShortMovies(movies).length > limit && (\n        <button className=\"movies__show-more\" onClick={handleShowMoreBtn}>\n          Еще\n        </button>\n      )}\n    </main>\n  );\n}\n\nMovies.propTypes = {\n  isSaved: PropTypes.bool,\n  handleMovieBtnClick: PropTypes.func,\n  movies: PropTypes.array,\n  getMovies: PropTypes.func,\n  isLoading: PropTypes.bool,\n  handleSearchBtn: PropTypes.func,\n  width: PropTypes.number,\n  filterMovies: PropTypes.func,\n  cleanFilter: PropTypes.func,\n  isSorted: PropTypes.bool,\n  isSavedMovie: PropTypes.func,\n  setIsSorted: PropTypes.func,\n};\n\nexport default Movies;\n","function validateInput(name, value) {\n  const result = {\n    isValid: false,\n    err: '',\n  };\n  switch (name) {\n    case 'email':\n      result.isValid = /^([\\w.%+-]+)@([\\w-]+\\.)+([\\w]{2,})$/i.test(value);\n      result.err = !result.isValid ? 'Введите корректный email' : '';\n      break;\n    case 'password':\n      result.isValid = value.length >= 6;\n      result.err = !result.isValid\n        ? 'Пароль должен быть минимум из 6 символов'\n        : '';\n      break;\n    case 'name':\n      result.isValid = /^[a-zA-Z- ]+$/.test(value);\n      result.err = !result.isValid\n        ? 'Имя должно содержать только латиницу, пробел или дефис.'\n        : '';\n      break;\n    default:\n      break;\n  }\n  return result;\n}\n\nexport default validateInput;\n","function handleMainApiError(status) {\n  let result = '';\n  switch (status) {\n    case 409:\n      result = 'Пользователь с таким email уже существует.';\n      break;\n    case 401:\n      result = 'Вы ввели неправильный логин или пароль.';\n      break;\n    default:\n      break;\n  }\n  return result;\n}\n\nexport default handleMainApiError;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport CurrentUserContext from '../../contexts/CurrentUserContext';\nimport mainApi from '../../utils/MainApi';\nimport validateInput from '../../utils/validateInput';\nimport './Profile.css';\nimport handleMainApiError from '../../utils/handleMainApiError';\n\nfunction Profile(props) {\n  const { setCurrentUser, signOut } = props;\n  const [name, setName] = React.useState('');\n  const [isNameValid, setIsNameValid] = React.useState(true);\n  const [email, setEmail] = React.useState('');\n  const [isEmailValid, setIsEmailValid] = React.useState(true);\n  const [isEditing, setisEditing] = React.useState(false);\n  const [isError, setIsError] = React.useState(false);\n  const [errorText, setErrorText] = React.useState('');\n  const [somethingChanged, setSomethingChanged] = React.useState(false);\n  const [isSuccess, setIsSuccess] = React.useState(false);\n  const currentUser = React.useContext(CurrentUserContext);\n  const submitBtnSelector =\n    isError || !somethingChanged ? 'profile__submit-btn_disabled' : '';\n  const nameInputInvalidSelector = !isNameValid ? 'profile__input_invalid' : '';\n  const emailInputInvalidSelector = !isEmailValid\n    ? 'profile__input_invalid'\n    : '';\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setEmail(currentUser.email);\n  }, [currentUser]);\n\n  React.useEffect(() => {\n    if (currentUser.name !== name || currentUser.email !== email) {\n      setSomethingChanged(true);\n    } else {\n      setSomethingChanged(false);\n    }\n    if (isNameValid && isEmailValid) {\n      setIsError(false);\n      setErrorText('');\n    } else {\n      setIsError(true);\n    }\n  }, [name, email]);\n\n  function handleError(validateResult) {\n    setIsError(!validateResult.isValid);\n    setErrorText(validateResult.err);\n  }\n\n  function handleNameInput(event) {\n    const validateResult = validateInput(event.target.name, event.target.value);\n    setIsNameValid(validateResult.isValid);\n    if (!validateResult.isValid) {\n      handleError(validateResult);\n    }\n    setName(event.target.value);\n  }\n\n  function handleEmailInput(event) {\n    const validateResult = validateInput(event.target.name, event.target.value);\n    setIsEmailValid(validateResult.isValid);\n    if (!validateResult.isValid) {\n      handleError(validateResult);\n    }\n    setEmail(event.target.value);\n  }\n\n  function toggleEditing() {\n    setisEditing(!isEditing);\n  }\n\n  function handleSubmitForm(event) {\n    event.preventDefault();\n    const userData = {};\n    if (currentUser.name !== name) {\n      userData.name = name;\n    } else if (currentUser.email !== email) {\n      userData.email = email;\n    } else {\n      return;\n    }\n    mainApi\n      .updateUserData(userData)\n      .then(res => {\n        if (res.data) {\n          setIsSuccess(true);\n          setisEditing(false);\n          setCurrentUser(res.data);\n          setTimeout(() => {\n            setIsSuccess(false);\n          }, 1500);\n        }\n      })\n      .catch(err => {\n        setIsError(true);\n        setErrorText(handleMainApiError(err.status));\n      });\n  }\n\n  return (\n    <div className=\"profile\">\n      {isSuccess && (\n        <div className=\"profile__success\">\n          <p className=\"profile__text\">Данные успешно изменены.</p>\n        </div>\n      )}\n      <h3 className=\"profile__title\">Привет {currentUser.name}!</h3>\n      <form className=\"profile__form\" onSubmit={handleSubmitForm}>\n        <label className=\"profile__input-label\" htmlFor=\"name\">\n          Имя\n          <input\n            className={`profile__input ${nameInputInvalidSelector}`}\n            type=\"text\"\n            name=\"name\"\n            value={name || ''}\n            disabled={!isEditing}\n            onChange={handleNameInput}\n          />\n        </label>\n        <label className=\"profile__input-label\" htmlFor=\"email\">\n          Почта\n          <input\n            className={`profile__input ${emailInputInvalidSelector}`}\n            type=\"email\"\n            name=\"email\"\n            value={email || ''}\n            disabled={!isEditing}\n            onChange={handleEmailInput}\n          />\n        </label>\n        {<span className=\"profile__error-message\">{errorText}</span>}\n        {isEditing && (\n          <button\n            type=\"submit\"\n            className={`profile__submit-btn ${submitBtnSelector}`}\n          >\n            Сохранить\n          </button>\n        )}\n        {!isEditing && (\n          <button\n            type=\"button\"\n            className=\"profile__edit-btn\"\n            onClick={toggleEditing}\n          >\n            Редактировать\n          </button>\n        )}\n        {!isEditing && (\n          <button\n            type=\"button\"\n            className=\"profile__sign-out-btn\"\n            onClick={signOut}\n          >\n            Выйти из аккаунта\n          </button>\n        )}\n      </form>\n    </div>\n  );\n}\n\nProfile.propTypes = {\n  props: PropTypes.object,\n  setCurrentUser: PropTypes.func,\n  signOut: PropTypes.func,\n};\n\nexport default Profile;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './HaveAccount.css';\nimport { Link } from 'react-router-dom';\n\nconst HaveAccount = ({ text, to, linkText }) => (\n  <p className=\"have-account\">\n    {`${text} `}\n    <Link to={to} className=\"have-account__link\">\n      {linkText}\n    </Link>\n  </p>\n);\n\nHaveAccount.propTypes = {\n  text: PropTypes.string,\n  to: PropTypes.string,\n  linkText: PropTypes.string,\n};\n\nexport default HaveAccount;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './User.css';\nimport { useLocation } from 'react-router-dom';\nimport Logo from '../Logo/Logo';\nimport HaveAccount from '../HaveAccount/HaveAccount';\n\nfunction User({ title, children }) {\n  const location = useLocation();\n  return (\n    <div className=\"user\">\n      <div className=\"user-container\">\n        <Logo place=\"user\" />\n        <h3 className=\"user__title\">{title}</h3>\n        {children}\n        {location.pathname === '/signup' && (\n          <HaveAccount\n            text={'Уже зарегистрированы?'}\n            to={'/signin'}\n            linkText={'Войти'}\n          />\n        )}\n        {location.pathname === '/signin' && (\n          <HaveAccount\n            text={'Ещё не зарегистрированы?'}\n            to={'/signup'}\n            linkText={'Регистрация'}\n          />\n        )}\n      </div>\n    </div>\n  );\n}\n\nUser.propTypes = {\n  title: PropTypes.string,\n  children: PropTypes.element,\n};\n\nexport default User;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './Form.css';\n\nfunction Form({ handleFormSubmit, children }) {\n  return (\n    <form className=\"form\" onSubmit={handleFormSubmit} noValidate>\n      {children}\n    </form>\n  );\n}\n\nForm.propTypes = {\n  handleFormSubmit: PropTypes.func,\n  children: PropTypes.array,\n};\n\nexport default Form;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './FormInput.css';\n\nfunction FormInput({ type, value, handleNameInput, isValid, inputName }) {\n  const inputErrorSelector = !isValid ? 'form-input_invalid' : '';\n  return (\n    <input\n      className={`form-input ${inputErrorSelector}`}\n      type={type}\n      value={value || ''}\n      onChange={handleNameInput}\n      name={inputName}\n      required\n    />\n  );\n}\n\nFormInput.propTypes = {\n  type: PropTypes.string,\n  value: PropTypes.string,\n  handleNameInput: PropTypes.func,\n  isValid: PropTypes.bool,\n  inputName: PropTypes.string,\n};\n\nexport default FormInput;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './FormLabel.css';\n\nconst FormLabel = ({ label, name, children }) => (\n  <label className=\"form-label\" htmlFor={name}>\n    <span className=\"form-label__text\">{label}</span>\n    {children}\n  </label>\n);\n\nFormLabel.propTypes = {\n  label: PropTypes.string,\n  children: PropTypes.element,\n  name: PropTypes.string,\n};\n\nexport default FormLabel;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './FormSubmitBtn.css';\n\nfunction FormSubmitBtn({ text, isDisabledBtn }) {\n  const btnDisabledSelector = isDisabledBtn ? 'form-submit-btn_disabled' : '';\n  return (\n    <button\n      type=\"submit\"\n      className={`form-submit-btn ${btnDisabledSelector}`}\n      disabled={isDisabledBtn}\n    >\n      {text}\n    </button>\n  );\n}\n\nFormSubmitBtn.propTypes = {\n  text: PropTypes.string,\n  isDisabledBtn: PropTypes.bool,\n};\n\nexport default FormSubmitBtn;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './FormErrorMessage.css';\n\nfunction FormErrorMessage({ errorMsg, isError }) {\n  const formErrorActiveSelector = isError ? 'form-error-message_active' : '';\n  return (\n    <p className={`form-error-message ${formErrorActiveSelector}`}>\n      {errorMsg}\n    </p>\n  );\n}\n\nFormErrorMessage.propTypes = {\n  errorMsg: PropTypes.string,\n  isError: PropTypes.bool,\n};\n\nexport default FormErrorMessage;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Form from '../Form/Form';\nimport FormInput from '../FormInput/FormInput';\nimport FormLabel from '../FormLabel/FormLabel';\nimport FormSubmitBtn from '../FormSubmitBtn/FormSubmitBtn';\nimport FormErrorMessage from '../FormErrorMessage/FormErrorMessage';\nimport validateInput from '../../utils/validateInput';\n\nfunction SignUp({ handleSignUp, setErrorMsg, errorMsg, isError, setIsError }) {\n  const [name, setName] = React.useState('');\n  const [nameIsValid, setNameIsValid] = React.useState(true);\n  const [email, setEmail] = React.useState('');\n  const [emailIsValid, setEmailIsValid] = React.useState(true);\n  const [password, setPassword] = React.useState('');\n  const [passwordIsValid, setPasswordIsValid] = React.useState(true);\n  const [isDisabledBtn, setIsDisabledBtn] = React.useState(true);\n\n  React.useEffect(\n    () => () => {\n      setIsError(false);\n    },\n    [],\n  );\n  React.useEffect(() => {\n    if (\n      nameIsValid &&\n      emailIsValid &&\n      passwordIsValid &&\n      name &&\n      email &&\n      password\n    ) {\n      setIsDisabledBtn(false);\n    } else {\n      setIsDisabledBtn(true);\n    }\n  }, [nameIsValid, emailIsValid, passwordIsValid]);\n  function handleNameInput(event) {\n    const validateResult = validateInput(event.target.name, event.target.value);\n    setName(event.target.value);\n    setNameIsValid(validateResult.isValid);\n    setIsError(!validateResult.isValid);\n    setErrorMsg(validateResult.err);\n  }\n\n  function handleEmailInput(event) {\n    const validateResult = validateInput(event.target.name, event.target.value);\n    setEmail(event.target.value);\n    setEmailIsValid(validateResult.isValid);\n    setIsError(!validateResult.isValid);\n    setErrorMsg(validateResult.err);\n  }\n\n  function handlePasswordInput(event) {\n    const validateResult = validateInput(event.target.name, event.target.value);\n    setPassword(event.target.value);\n    setPasswordIsValid(validateResult.isValid);\n    setIsError(!validateResult.isValid);\n    setErrorMsg(validateResult.err);\n  }\n\n  function handleFormSubmit(event) {\n    event.preventDefault();\n    const userData = {\n      name,\n      email,\n      password,\n    };\n    handleSignUp(userData);\n  }\n  return (\n    <Form handleFormSubmit={handleFormSubmit}>\n      <FormLabel label=\"Имя\" name={'name'}>\n        <FormInput\n          type=\"text\"\n          value={name}\n          handleNameInput={handleNameInput}\n          isValid={nameIsValid}\n          inputName={'name'}\n        />\n      </FormLabel>\n      <FormLabel label=\"E-mail\" name={'email'}>\n        <FormInput\n          type=\"email\"\n          value={email}\n          handleNameInput={handleEmailInput}\n          isValid={emailIsValid}\n          inputName={'email'}\n        />\n      </FormLabel>\n      <FormLabel label=\"Пароль\" name={'password'}>\n        <FormInput\n          type=\"password\"\n          value={password}\n          handleNameInput={handlePasswordInput}\n          isValid={passwordIsValid}\n          inputName={'password'}\n        />\n      </FormLabel>\n      <FormErrorMessage errorMsg={errorMsg} isError={isError} />\n      <FormSubmitBtn\n        text={'Зарегистрироваться'}\n        isDisabledBtn={isDisabledBtn}\n        setIsDisabledBtn={setIsDisabledBtn}\n      />\n    </Form>\n  );\n}\n\nSignUp.propTypes = {\n  handleSignUp: PropTypes.func,\n  setErrorMsg: PropTypes.func,\n  errorMsg: PropTypes.string,\n  isError: PropTypes.bool,\n  setIsError: PropTypes.func,\n};\n\nexport default SignUp;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Form from '../Form/Form';\nimport FormInput from '../FormInput/FormInput';\nimport FormLabel from '../FormLabel/FormLabel';\nimport FormSubmitBtn from '../FormSubmitBtn/FormSubmitBtn';\nimport FormErrorMessage from '../FormErrorMessage/FormErrorMessage';\nimport validateInput from '../../utils/validateInput';\n\nfunction SignIn({ handleSignIn, setErrorMsg, errorMsg, isError, setIsError }) {\n  const [email, setEmail] = React.useState('');\n  const [emailIsValid, setEmailIsValid] = React.useState(true);\n  const [password, setPassword] = React.useState('');\n  const [passwordIsValid, setPasswordIsValid] = React.useState(true);\n  const [isDisabledBtn, setIsDisabledBtn] = React.useState(false);\n\n  React.useEffect(() => {\n    if (emailIsValid && passwordIsValid && email && password) {\n      setIsDisabledBtn(false);\n    } else {\n      setIsDisabledBtn(true);\n    }\n  }, [emailIsValid, passwordIsValid]);\n\n  React.useEffect(\n    () => () => {\n      setIsError(false);\n    },\n    [],\n  );\n  function handleEmailInput(event) {\n    const validateResult = validateInput(event.target.name, event.target.value);\n    setEmail(event.target.value);\n    setEmailIsValid(validateResult.isValid);\n    setIsError(!validateResult.isValid);\n    setErrorMsg(validateResult.err);\n  }\n\n  function handlePasswordInput(event) {\n    const validateResult = validateInput(event.target.name, event.target.value);\n    setPassword(event.target.value);\n    setPasswordIsValid(validateResult.isValid);\n    setIsError(!validateResult.isValid);\n    setErrorMsg(validateResult.err);\n  }\n\n  function handleFormSubmit(event) {\n    event.preventDefault();\n    const userData = {\n      email,\n      password,\n    };\n    handleSignIn(userData);\n  }\n  return (\n    <Form handleFormSubmit={handleFormSubmit}>\n      <FormLabel label=\"E-mail\">\n        <FormInput\n          type=\"email\"\n          value={email}\n          handleNameInput={handleEmailInput}\n          isValid={emailIsValid}\n          inputName={'email'}\n        />\n      </FormLabel>\n      <FormLabel label=\"Пароль\">\n        <FormInput\n          type=\"password\"\n          value={password}\n          handleNameInput={handlePasswordInput}\n          isValid={passwordIsValid}\n          inputName={'password'}\n        />\n      </FormLabel>\n      <FormErrorMessage errorMsg={errorMsg} isError={isError} />\n      <FormSubmitBtn text={'Войти'} isDisabledBtn={isDisabledBtn} />\n    </Form>\n  );\n}\n\nSignIn.propTypes = {\n  handleSignIn: PropTypes.func,\n  setErrorMsg: PropTypes.func,\n  errorMsg: PropTypes.string,\n  isError: PropTypes.bool,\n  setIsError: PropTypes.func,\n};\n\nexport default SignIn;\n","import React from 'react';\nimport './MobileLink.css';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nfunction MobileLink({ path, linkText, setsMobileMenuOpened }) {\n  const history = useHistory();\n  const location = useLocation();\n  const mobileLinkSelector =\n    location.pathname === path ? 'mobile-link_active' : '';\n  function handleBtnClick(event) {\n    event.stopPropagation();\n    history.push(path);\n    setsMobileMenuOpened(false);\n  }\n\n  return (\n    <button\n      className={`mobile-link ${mobileLinkSelector}`}\n      onClick={handleBtnClick}\n    >\n      {linkText}\n    </button>\n  );\n}\n\nMobileLink.propTypes = {\n  setsMobileMenuOpened: PropTypes.func,\n  path: PropTypes.string,\n  linkText: PropTypes.string,\n};\n\nexport default MobileLink;\n","import './MobileMenu.css';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { useHistory } from 'react-router-dom';\nimport MobileLink from '../MobileLink/MobileLink';\nimport AccountLink from '../Navigation/Navigation';\n\nfunction MobileMenu({ setsMobileMenuOpened, isMobileMenuOpened }) {\n  const history = useHistory();\n  const mobileMenuActiveSelector = isMobileMenuOpened\n    ? 'mobile-menu_active'\n    : '';\n  function closeMobileMenu() {\n    setsMobileMenuOpened(false);\n  }\n  function openAccount() {\n    history.push('/profile');\n    closeMobileMenu();\n  }\n  return (\n    <div className={`mobile-menu ${mobileMenuActiveSelector}`}>\n      <nav className=\"mobile-menu__navigation\">\n        <button className=\"mobile-menu__close-btn\" onClick={closeMobileMenu} />\n        <MobileLink\n          setsMobileMenuOpened={setsMobileMenuOpened}\n          path=\"/\"\n          linkText=\"Главная\"\n        />\n        <MobileLink\n          setsMobileMenuOpened={setsMobileMenuOpened}\n          path=\"/movies\"\n          linkText=\"Фильмы\"\n        />\n        <MobileLink\n          setsMobileMenuOpened={setsMobileMenuOpened}\n          path=\"/saved-movies\"\n          linkText=\"Сохраненные фильмы\"\n        />\n        <AccountLink openAccount={openAccount} place={'mobile-menu'} />\n      </nav>\n    </div>\n  );\n}\n\nMobileMenu.propTypes = {\n  setsMobileMenuOpened: PropTypes.func,\n  isMobileMenuOpened: PropTypes.bool,\n};\n\nexport default MobileMenu;\n","import './PageNotFound.css';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst PageNotFound = () => (\n  <div className=\"page-not-found\">\n    <h3 className=\"page-not-found__title\">404</h3>\n    <p className=\"page-not-found__subtitle\">Страница не найдена</p>\n    <Link to=\"/\" className=\"page-not-found__back-btn\">\n      Назад\n    </Link>\n  </div>\n);\n\nexport default PageNotFound;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Route, Redirect } from 'react-router-dom';\n\nconst ProtectedRoute = ({\n  component: Component,\n  isLoggedIn,\n  path,\n  ...props\n}) => (\n  <Route path={path}>\n    {() => (isLoggedIn ? <Component {...props} /> : <Redirect to=\"/\" />)}\n  </Route>\n);\n\nProtectedRoute.propTypes = {\n  component: PropTypes.func,\n  isLoggedIn: PropTypes.bool,\n  path: PropTypes.string,\n};\n\nexport default ProtectedRoute;\n","function findMovies(searchReq) {\n  const clearedString = searchReq.replace(/[»«.,\\/#!$%\\^&\\*;:{}=\\-_`~()]/g, '');\n  const wordsArr = clearedString.replace(/\\s{2,}/g, ' ').split(' ');\n  let result = '';\n  for (let i = 0; i < wordsArr.length; ) {\n    result += `(${wordsArr[i]}){1}.?`;\n    i += 1;\n  }\n  return new RegExp(result, 'gmi');\n}\n\nexport default findMovies;\n","import './App.css';\nimport React, { useLayoutEffect } from 'react';\nimport { Route, Switch, useLocation, useHistory } from 'react-router-dom';\nimport CurrentUserContext from '../../contexts/CurrentUserContext';\nimport mainApi from '../../utils/MainApi';\nimport moviesApi from '../../utils/MoviesApi';\nimport Header from '../Header/Header';\nimport Footer from '../Footer/Footer';\nimport Main from '../Main/Main';\nimport Movies from '../Movies/Movies';\nimport Profile from '../Profile/Profile';\nimport User from '../User/User';\nimport SignUp from '../SignUp/SignUp';\nimport SignIn from '../SignIn/SignIn';\nimport MobileMenu from '../MobileMenu/MobileMenu';\nimport PageNotFound from '../PageNotFound/PageNotFound';\nimport ProtectedRoute from '../ProtectedRoute/ProtectedRoute';\nimport findMovies from '../../utils/findMovies';\nimport handleMainApiError from '../../utils/handleMainApiError';\n\nfunction App() {\n  const [isMobileMenuOpened, setsMobileMenuOpened] = React.useState(false);\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [isLoggedIn, setIsLoggedIn] = React.useState(false);\n  const [isLoading, setIsLoading] = React.useState(false);\n  const [movies, setMovies] = React.useState([]);\n  const [savedMovies, setSavedMovies] = React.useState([]);\n  const [savedFilteredMovies, setSavedFilteredMovies] = React.useState([]);\n  const [width, setWidth] = React.useState(window.innerWidth);\n  const [isResizing, setIsResizing] = React.useState(false);\n  const [enteredPath, setEnteredPath] = React.useState('');\n  const [isMoviesSorted, setIsMoviesSorted] = React.useState(false);\n  const [isSavedMoviesSorted, setIsSavedMoviesSorted] = React.useState(false);\n  const [userError, setUserError] = React.useState('');\n  const [isUserError, setIsUserError] = React.useState(false);\n  const location = useLocation();\n  const history = useHistory();\n\n  function getSavedMovies() {\n    mainApi\n      .getSavedMovies()\n      .then(res => {\n        if (!res) {\n          throw new Error('Ошибка при получении сохраненных фильмов');\n        }\n        setSavedMovies(res.data);\n        setSavedFilteredMovies(res.data);\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  }\n\n  function getUserData() {\n    mainApi\n      .getUserData()\n      .then(user => {\n        if (user) {\n          setCurrentUser(user.data);\n          getSavedMovies();\n          setIsLoggedIn(true);\n        } else {\n          console.log('Что-то пошло не так');\n        }\n      })\n      .catch(() => {\n        setIsLoggedIn(false);\n        localStorage.removeItem('jwt');\n        localStorage.removeItem('movies');\n      });\n  }\n\n  React.useEffect(() => {\n    const path = location.pathname;\n    const protectedPaths = ['/profile', '/movies', '/saved-movies'];\n    const jwt = localStorage.getItem('jwt');\n    if (!isLoggedIn && protectedPaths.includes(path) && !!jwt) {\n      setEnteredPath(path);\n      return;\n    }\n    if (enteredPath !== '/') {\n      history.push(enteredPath);\n      setEnteredPath('');\n    }\n  }, [isLoggedIn]);\n\n  React.useEffect(() => {\n    const jwt = localStorage.getItem('jwt');\n    if (jwt) {\n      mainApi.setToken(jwt);\n      getUserData();\n    } else {\n      setIsLoggedIn(false);\n    }\n    const searchedMovies = localStorage.getItem('searchedMovies');\n    if (searchedMovies) {\n      setMovies(JSON.parse(searchedMovies));\n    }\n  }, []);\n\n  useLayoutEffect(() => {\n    function updateWidth() {\n      if (!isResizing) {\n        setIsResizing(true);\n        setTimeout(() => {\n          setWidth(window.innerWidth);\n          setIsResizing(false);\n        }, 700);\n      }\n    }\n    window.addEventListener('resize', updateWidth);\n    updateWidth();\n    return () => window.removeEventListener('resize', updateWidth);\n  }, []);\n\n  function isSavedMovie(film) {\n    return savedMovies.find(el => Number(el.id) === Number(film.id));\n  }\n\n  function deleteMovieFromSaved(movieId) {\n    mainApi\n      .deleteMovie(movieId)\n      .then(deletedMovie => {\n        if (!deletedMovie) {\n          throw new Error('При удалении фильма произошла ошибка');\n        } else {\n          const newSavedMoviesArr = savedMovies.filter(\n            mov => mov.id !== deletedMovie.data.id,\n          );\n          setSavedMovies(newSavedMoviesArr);\n          setSavedFilteredMovies(newSavedMoviesArr);\n        }\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  }\n\n  function saveMovie(movieData) {\n    mainApi\n      .uploadNewMovie(movieData)\n      .then(savedMovie => {\n        if (!savedMovie) {\n          throw new Error('При добавлении фильма произошла ошибка');\n        } else {\n          setSavedMovies([savedMovie.data, ...savedMovies]);\n          setSavedFilteredMovies([savedMovie.data, ...savedMovies]);\n        }\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  }\n\n  function toggleMovieLike(movieData) {\n    const clickedMovie = isSavedMovie(movieData);\n    if (clickedMovie) {\n      deleteMovieFromSaved(clickedMovie._id);\n    } else {\n      saveMovie(movieData);\n    }\n  }\n  function handleSavedMovieBtnClick(mov) {\n    deleteMovieFromSaved(mov._id);\n  }\n\n  function handleSignIn(userData) {\n    mainApi\n      .signInUser(userData)\n      .then(res => {\n        if (res) {\n          localStorage.setItem('jwt', res.token);\n          mainApi.setToken(res.token);\n          getUserData();\n          setIsLoggedIn(true);\n          history.push('/movies');\n        } else {\n          setUserError('Ошибка авторизации');\n          setIsUserError(true);\n        }\n      })\n      .catch(error => {\n        setUserError(handleMainApiError(error.status));\n        setIsUserError(true);\n      });\n  }\n\n  function handleSignUp(userData) {\n    const { email, password } = userData;\n    mainApi\n      .createUser(userData)\n      .then(user => {\n        if (user) {\n          handleSignIn({ email, password });\n        }\n      })\n      .catch(error => {\n        setUserError(handleMainApiError(error.status));\n        setIsUserError(true);\n      });\n  }\n\n  function signOut() {\n    setCurrentUser({});\n    setIsLoggedIn(false);\n    localStorage.removeItem('jwt');\n    localStorage.removeItem('movies');\n    mainApi.clearToken();\n    history.push('/');\n  }\n\n  function filterMovies(films, searhText) {\n    const moviesRegExp = findMovies(searhText);\n    return films.filter(movie => moviesRegExp.test(movie.nameRU));\n  }\n\n  function getMovies(searchText) {\n    setIsLoading(true);\n    const localMovies = JSON.parse(localStorage.getItem('movies'));\n    if (localMovies) {\n      setMovies(filterMovies(localMovies, searchText));\n      localStorage.setItem(\n        'searchedMovies',\n        JSON.stringify(filterMovies(localMovies, searchText)),\n      );\n      setIsLoading(false);\n    } else {\n      moviesApi\n        .getMovies()\n        .then(films => {\n          if (films) {\n            localStorage.setItem('movies', JSON.stringify(films));\n            setMovies(filterMovies(films, searchText));\n            localStorage.setItem(\n              'searchedMovies',\n              JSON.stringify(filterMovies(films, searchText)),\n            );\n            setIsLoading(false);\n          } else {\n            setIsLoading(false);\n            throw new Error('Ошибка при получении фильмов');\n          }\n        })\n        .catch(error => {\n          setIsLoading(false);\n          console.log(error);\n        });\n    }\n  }\n  function handleSearchMoviesBtn(searchText) {\n    getMovies(searchText);\n  }\n  function handleSearchSavedMoviesBtn(searchText) {\n    setSavedFilteredMovies(filterMovies(savedMovies, searchText));\n  }\n  function cleanSavedMoviesFilter() {\n    setSavedFilteredMovies(savedMovies);\n  }\n  function cleanMoviesFilter() {\n    setMovies([]);\n  }\n\n  return (\n    <div className=\"page\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header\n          setsMobileMenuOpened={setsMobileMenuOpened}\n          isLoggedIn={isLoggedIn}\n        />\n        <Switch>\n          <Route exact path=\"/\">\n            <Main />\n          </Route>\n          <ProtectedRoute\n            path=\"/movies\"\n            isLoggedIn={isLoggedIn}\n            component={Movies}\n            width={width}\n            movies={movies}\n            handleMovieBtnClick={toggleMovieLike}\n            getMovies={getMovies}\n            isLoading={isLoading}\n            handleSearchBtn={handleSearchMoviesBtn}\n            cleanFilter={cleanMoviesFilter}\n            isSavedMovie={isSavedMovie}\n            isSorted={isMoviesSorted}\n            setIsSorted={setIsMoviesSorted}\n          />\n          <ProtectedRoute\n            path=\"/saved-movies\"\n            isLoggedIn={isLoggedIn}\n            component={Movies}\n            width={width}\n            movies={savedFilteredMovies}\n            isSaved={true}\n            handleMovieBtnClick={handleSavedMovieBtnClick}\n            setSavedMovies={setSavedMovies}\n            handleSearchBtn={handleSearchSavedMoviesBtn}\n            cleanFilter={cleanSavedMoviesFilter}\n            isSorted={isSavedMoviesSorted}\n            setIsSorted={setIsSavedMoviesSorted}\n          />\n          <ProtectedRoute\n            path=\"/profile\"\n            isLoggedIn={isLoggedIn}\n            component={Profile}\n            setCurrentUser={setCurrentUser}\n            signOut={signOut}\n          />\n          <Route path=\"/signin\">\n            <User title={'Рады видеть!'}>\n              <SignIn\n                handleSignIn={handleSignIn}\n                setErrorMsg={setUserError}\n                errorMsg={userError}\n                isError={isUserError}\n                setIsError={setIsUserError}\n              />\n            </User>\n          </Route>\n          <Route path=\"/signup\">\n            <User title={'Добро пожаловать!'}>\n              <SignUp\n                handleSignUp={handleSignUp}\n                setErrorMsg={setUserError}\n                errorMsg={userError}\n                isError={isUserError}\n                setIsError={setIsUserError}\n              />\n            </User>\n          </Route>\n          <Route path=\"/*\">\n            <PageNotFound />\n          </Route>\n        </Switch>\n        {location.pathname !== '/profile' && <Footer />}\n        <MobileMenu\n          setsMobileMenuOpened={setsMobileMenuOpened}\n          isMobileMenuOpened={isMobileMenuOpened}\n        />\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './vendor/normalize.css';\nimport './vendor/fonts/fonts.css';\nimport { BrowserRouter } from 'react-router-dom';\nimport App from './components/App/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}